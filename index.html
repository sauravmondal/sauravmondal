<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forex Risk-to-Reward Ratio Calculator</title>
    <!-- Use Tailwind CSS for a clean, modern, and responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Slate-900 background */
            color: #e2e8f0; /* Slate-200 text color */
        }
    </style>
</head>
<body class="p-4 sm:p-8 flex items-center justify-center min-h-screen">

    <!-- Main calculator container -->
    <div class="bg-slate-800 p-6 sm:p-8 rounded-xl shadow-lg w-full max-w-md mx-auto border border-slate-700">
        <h1 class="text-3xl sm:text-4xl font-bold text-center mb-6 text-indigo-400">Forex R/R Calculator</h1>

        <!-- Input fields section -->
        <div class="space-y-6">
            <!-- Entry Price Input -->
            <div>
                <label for="entry-price" class="block text-sm font-medium mb-1 text-slate-300">Entry Price</label>
                <input
                    type="number"
                    id="entry-price"
                    class="w-full bg-slate-700 text-slate-100 placeholder-slate-400 border border-slate-600 rounded-lg py-2 px-4 focus:ring-2 focus:ring-indigo-500 focus:outline-none transition duration-200"
                    placeholder="e.g., 1.0500"
                    step="any"
                >
            </div>
            <!-- Stop Loss Price Input -->
            <div>
                <label for="stop-loss" class="block text-sm font-medium mb-1 text-slate-300">Stop Loss Price</label>
                <input
                    type="number"
                    id="stop-loss"
                    class="w-full bg-slate-700 text-slate-100 placeholder-slate-400 border border-slate-600 rounded-lg py-2 px-4 focus:ring-2 focus:ring-indigo-500 focus:outline-none transition duration-200"
                    placeholder="e.g., 1.0450"
                    step="any"
                >
            </div>
            <!-- Take Profit Price Input -->
            <div>
                <label for="take-profit" class="block text-sm font-medium mb-1 text-slate-300">Take Profit Price</label>
                <input
                    type="number"
                    id="take-profit"
                    class="w-full bg-slate-700 text-slate-100 placeholder-slate-400 border border-slate-600 rounded-lg py-2 px-4 focus:ring-2 focus:ring-indigo-500 focus:outline-none transition duration-200"
                    placeholder="e.g., 1.0700"
                    step="any"
                >
            </div>
        </div>

        <!-- Output section with calculated values -->
        <div class="mt-8 space-y-4">
            <!-- Risk in pips display -->
            <div class="flex justify-between items-center bg-slate-700 p-4 rounded-lg shadow-inner">
                <span class="text-slate-300">Risk (Pips)</span>
                <span id="risk-pips" class="font-mono text-lg font-semibold text-rose-400">—</span>
            </div>
            <!-- Reward in pips display -->
            <div class="flex justify-between items-center bg-slate-700 p-4 rounded-lg shadow-inner">
                <span class="text-slate-300">Reward (Pips)</span>
                <span id="reward-pips" class="font-mono text-lg font-semibold text-emerald-400">—</span>
            </div>
            <!-- Risk-to-Reward Ratio display -->
            <div class="flex justify-between items-center bg-indigo-500 p-4 rounded-lg shadow-md">
                <span class="text-slate-100 font-medium">Risk-to-Reward Ratio</span>
                <span id="risk-reward-ratio" class="font-mono text-xl font-bold text-white">—</span>
            </div>
        </div>

    </div>

    <script>
        // Get references to all input and display elements
        const entryPriceInput = document.getElementById('entry-price');
        const stopLossInput = document.getElementById('stop-loss');
        const takeProfitInput = document.getElementById('take-profit');
        const riskPipsDisplay = document.getElementById('risk-pips');
        const rewardPipsDisplay = document.getElementById('reward-pips');
        const ratioDisplay = document.getElementById('risk-reward-ratio');

        /**
         * Calculates and displays the Forex risk-to-reward ratio in real-time.
         */
        const calculateRatio = () => {
            // Convert input values to numbers, or 0 if empty
            const entryPrice = parseFloat(entryPriceInput.value) || 0;
            const stopLoss = parseFloat(stopLossInput.value) || 0;
            const takeProfit = parseFloat(takeProfitInput.value) || 0;

            // If any of the essential inputs are missing, reset displays
            if (!entryPrice || !stopLoss || !takeProfit) {
                riskPipsDisplay.textContent = '—';
                rewardPipsDisplay.textContent = '—';
                ratioDisplay.textContent = '—';
                return;
            }

            // Calculate risk and reward in pips. Assumes a 4-decimal place instrument for simplicity (e.g., EUR/USD)
            // A pip is typically 0.0001 for most pairs.
            const riskPips = Math.abs(entryPrice - stopLoss) * 10000;
            const rewardPips = Math.abs(takeProfit - entryPrice) * 10000;
            
            // Check for valid risk and reward values
            if (riskPips <= 0 || rewardPips <= 0) {
                riskPipsDisplay.textContent = riskPips.toFixed(2);
                rewardPipsDisplay.textContent = rewardPips.toFixed(2);
                ratioDisplay.textContent = 'Invalid';
                return;
            }

            // Calculate the ratio and format it for display
            const ratio = rewardPips / riskPips;

            // Update the display elements
            riskPipsDisplay.textContent = riskPips.toFixed(2);
            rewardPipsDisplay.textContent = rewardPips.toFixed(2);
            ratioDisplay.textContent = `1:${ratio.toFixed(2)}`;
        };

        // Add event listeners to the input fields to trigger calculations on every keypress
        entryPriceInput.addEventListener('input', calculateRatio);
        stopLossInput.addEventListener('input', calculateRatio);
        takeProfitInput.addEventListener('input', calculateRatio);
        
        // Initial calculation on page load (in case values are pre-filled)
        window.onload = calculateRatio;
    </script>

</body>
</html>

